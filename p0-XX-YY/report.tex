\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc} % sempre salve seus arquivos como UTF8
\usepackage[T1]{fontenc}
\usepackage[english]{babel}

\usepackage[left=2.5cm,right=2cm,top=2cm,bottom=2.5cm]{geometry}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{graphicx}
\usepackage{algorithm}
\usepackage{color}
\usepackage[noend]{algpseudocode}
\usepackage{mathtools}

% load times font
\usepackage{mathptmx}
\usepackage[scaled=.90]{helvet}
\usepackage{courier}

% comandos
\newcommand{\mdc}[1]{\mathrm{mdc}(#1)}

\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

% Foot without marker
\newcommand\blfootnote[1]{%
	\begingroup
	\renewcommand\thefootnote{}\footnote{#1}%
	\addtocounter{footnote}{-1}%
	\endgroup
}

\title{MO446 -- Introduction to Computer Vision  \\ Project 0}
\author{Breno Leite  \\ Guilherme Leite}
\date{10/08/2017}

\begin{document}

\maketitle
\blfootnote{\textit{\textbf{Important note:} The borders seen in the figures are not part of the image, they are figurative information about the starting and ending points of the image. Moreover, all the image scales in this report were changed in order to make the text more readable.}} \\

%% ---------------- Starts here --------------------------------

\textbf{Question 1.} \\

The Figure \ref{fig:p0-1-0} was used as an input to all the exercises, as specified it is a color image, rectangular and its type is \emph{PNG}. The image dimensions are 400x300, which satisfies the required size. \\

\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.8]{input/p0-1-0}}%
	}%
	\caption{Input image used in the questions (\textbf{p0-1-0})}
	\label{fig:p0-1-0}
\end{figure}

\textit{Note:} The image was converted from \emph{JPG} to \emph{PNG} format. 

\newpage


\textbf{Question 2.} \\

\textbf{2-a) } A PNG image is represented in RGB format, which means that there is three channels for each pixel. These channels represents the intensity of each color, in a determined pixel, RGB stands for: Red, Green, and Blue. The Figure \ref{fig:p0-2-a-0} represents an image obtained by swapping the red and blue channel in the input image.


\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.8]{output/p0-2-a-0}}%
	}%
	\caption{Input image with red and blue channels swapped (\textbf{p0-2-a-0})}
	\label{fig:p0-2-a-0}
\end{figure}

We can note a heavy intensity of green in the image after the swap, the reason for that is explained looking at the original image. Most of the pixels in the original image has a low intensity of red, in opposite, the intensity of blue is quite high mainly because of the water and sky. When the swap occurs, all the blue intensity goes to red highlighting things that had a little bit of red intensity on the original image, like the fences. \\

In other hand, all the intensity from the red (really low on the original image) goes to blue. So, that makes the intensity of blue goes down in places that blue was too high (e.g. water and sky). This way, the green color becomes more intense on places that blue was predominant on the original image, explaining the green lake.\\

\newpage

\textbf{2-b) } A monochrome or grayscale images is composed by a single channel, which ranges from 0 to 255 as RGB channels. Thus, create a monochrome image from the green channel is a straightforward procedure, it is just a copy of the green channel into a new image. The result obtained using this procedure on the input image is seen in the Figure \ref{fig:img-green}.

\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.7]{output/p0-2-b-0}}%
	}%
	\caption{Monochrome image created from green channel (\textbf{p0-2-b-0})}
	\label{fig:img-green}
\end{figure}

As shown in the figure, the representation of the image stills really good. The reason for this is the high intensity of the green channel in the original image, which makes this channels, by its own, a good representation for image.\\

\textbf{2-c) } Using the same structure as in \textbf{2-c}, we this time use the red channel to create the new monochrome image, which is shown in Figure \ref{fig:img-red}.

\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.7]{output/p0-2-c-0}}%
	}%
	\caption{Monochrome image created from red channel (\textbf{p0-2-c-0})}
	\label{fig:img-red}
\end{figure}

In this image, we are able to see more blurred areas. The reason for this result is the low intensity of the red channel over the image pixels, which makes just the channel red not as good representation as the green channel.

\textbf{2-d) } The image created from the green channel (\textbf{p0-2-b-0}) looks more like what we expected, this is explained by three channels of the image. As said before, the original image is more intense on the green channel than in the red channel\footnote{Mean values for each channel in the original image: Red: 127.40, Green: 149.85, Blue: 173.02}. We normally would expect to the green approach better express the image, mainly because the nature of the green color in the real world. However, we can not expect this result for every image. \\

In contrast, we would expect to a computer work better in a image extracted from a red channel, the intuition is that the color red gives a better contrast to the image. In this way, the information like shapes of objects on the image are highlighted in the monochrome image, example are the contrast between the sky and the clouds in the Figure \ref{fig:img-red} (\textbf{p0-2-c-0}). \\

\textbf{Question 3.} \\

In this question we merge the results shown in Figures \ref{fig:img-green} (\textbf{p0-2-b-0}) and \ref{fig:img-red} (\textbf{p0-2-c-0}). In order to do that, we inserted the centered 100x100 pixels from image \textbf{p0-2-b-0} into the image \textbf{p0-2-c-0}, the result is shown in Figure \ref{fig:p0-3-0}. 


\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.5]{output/p0-3-0}}%
	}%
	\caption{Pixels centered (100x100) from Figure \ref{fig:img-green} into Figure \ref{fig:img-red} (\textbf{p0-3-0})}
	\label{fig:p0-3-0}
\end{figure}

After that, we inserted the generated image (\textbf{p0-3-0}) into its respective channel (green) in the original image. The results is shown in Figure \ref{fig:p0-3-1}.

\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.6]{output/p0-3-1}}%
	}%
	\caption{Original image with green channel replaced from Figure \ref{fig:p0-3-0} (\textbf{p0-3-1})}
	\label{fig:p0-3-1}
\end{figure}

Our conclusion about it .........\\

\newpage

\textbf{Question 4.} \\

\textbf{4-a) } The min and max values of img-green respectively are 0 and 255.	The mean value is 149,85 and the deviation is 57,94. The computation for all these values were made using the python library numpy, the computation for the min and max value is pretty straightforward they are the highest and lowest values in the image, the computation of the mean value is explained in Figure \ref{eq:mean}, where $X_i$ is each pixel in the image and $N$ is the total amount of pixels in the image, the standard deviation value is explained in Figure \ref{eq:deviation}, where \textbf{$X_i$} is each pixel in the image, $\bar X$ is the mean value and $N$ is the total amount of pixels in the image.

\begin{figure}[!h]
	\centering
	\[ \bar X = \frac{\sum X_i}{N} \]
	\caption{Mean formula}
    \label{eq:mean}
\end{figure}

\begin{figure}[!h]
	\centering
	\[ S = \frac{\sqrt[]{\sum {(x_i - \bar{x})^2}}}{N} \]
	\caption{Deviation formula}
    \label{eq:deviation}
\end{figure}

\textbf{4-b) } In this question using image-green we subtracted the mean value from all of the pixels, divided them by the standard deviation, multiplied them by 10 and added back the mean value. Image (\textbf{p0-4-b-0})  is the output image after these operations.

\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.8]{output/p0-4-b-0}}%
	}%
	\caption{Normalized image from image-green (\textbf{p0-4-b-0})}
	\label{fig:p0-4-b-0}
\end{figure}

The image lost a great portion of it's contrast and that is the objective of a normalization, to reduce the presence of pixels values too far apart.\\

\textbf{4-c) } In this question using image-green we shifted twice all pixels to their left, in here it was possible to do either take the two left most columns and put them back in the two pixels wide gap in the right side or leave the right side gap as black pixels, we choose the later one, image (\textbf{p0-4-c-0}) is the output.

\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.8]{output/p0-4-c-0}}%
	}%
	\caption{2 pixels shifted image from image-green (\textbf{p0-4-c-0})}
	\label{fig:p0-4-c-0}
\end{figure}

After the previous steps we subtracted the shifted image to the original colored one, making sure all the values were valid ones, image (\textbf{p0-4-c-1}) is the output.

\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.8]{output/p0-4-c-1}}%
	}%
	\caption{Subtracted image (p0-4-c-0) to (p0-1-0) (\textbf{p0-4-c-1})}
	\label{fig:p0-4-c-1}
\end{figure}

The negative values means that the right adjacent pixel was a brighter one, the resulting image highlights the horizontal gradients that darkens from left to right as black regions and the opposite as white regions, the remaining vertical gradients are shown as random black and white regions.

\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.8]{output/p0-5-a-0}}%
	}%
	\caption{p0-5-a-0}
	\label{fig:p0-5-a-0}
\end{figure}

\begin{figure}[!h]
	\centering
	{%
		\setlength{\fboxsep}{1pt}%
		\setlength{\fboxrule}{1pt}%
		\fbox{\includegraphics[scale=0.8]{output/p0-5-b-0}}%
	}%
	\caption{p0-5-b-0}
	\label{fig:p0-5-b-0}
\end{figure}


\end{document}


